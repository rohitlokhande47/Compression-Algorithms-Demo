<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arithmetic & Huffman Coding Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            padding: 30px;
            text-align: center;
            color: white;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .main-content {
            padding: 40px;
        }
        
        .tabs {
            display: flex;
            background: #f8f9fa;
            border-radius: 12px;
            margin-bottom: 30px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .tab {
            flex: 1;
            padding: 15px 25px;
            background: transparent;
            border: none;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            color: #666;
            transition: all 0.3s ease;
        }
        
        .tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: translateY(-2px);
        }
        
        .tab:hover:not(.active) {
            background: #e9ecef;
            transform: translateY(-1px);
        }
        
        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }
        
        .tab-content.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .input-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 25px;
            border: 2px solid #e9ecef;
        }
        
        .input-section h3 {
            color: #495057;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        textarea {
            width: 100%;
            height: 120px;
            padding: 15px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            resize: vertical;
            transition: border-color 0.3s ease;
        }
        
        textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .file-input {
            margin-top: 15px;
            display: flex;
            align-items: center;
        }
        
        .file-label {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            display: inline-block;
            transition: all 0.3s ease;
        }
        
        .file-label:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }
        
        .file-name {
            margin-left: 12px;
            font-size: 0.9rem;
            color: #495057;
        }
        
        .button-group {
            display: flex;
            gap: 15px;
            margin: 20px 0;
        }
        
        button {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .encode-btn {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
        }
        
        .decode-btn {
            background: linear-gradient(135deg, #dc3545, #fd7e14);
            color: white;
        }
        
        .clear-btn {
            background: #6c757d;
            color: white;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        .results {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-top: 25px;
        }
        
        .result-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid #667eea;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .result-card h4 {
            color: #495057;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }
        
        .result-card pre {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 12px;
            line-height: 1.4;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .stats {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin-top: 25px;
            text-align: center;
        }
        
        .stats h4 {
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }
        
        .stat-item {
            background: rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 8px;
            backdrop-filter: blur(10px);
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        .error {
            background: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #dc3545;
            margin: 15px 0;
        }
        
        @media (max-width: 768px) {
            .results {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .main-content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üóúÔ∏è Compression Algorithms Demo</h1>
            <p>Arithmetic & Huffman Coding for Student Names</p>
            <p>By Rohit Lokhande (202251068)</p>
        </div>
        
        <div class="main-content">
            <div class="tabs">
                <button class="tab active" onclick="switchTab('huffman')">Huffman Coding</button>
                <button class="tab" onclick="switchTab('arithmetic')">Arithmetic Coding</button>
            </div>
            
            <div id="huffman-tab" class="tab-content active">
                <div class="input-section">
                    <h3>üìù Input Text (Student Names)</h3>
                    <textarea id="huffman-input" placeholder="Enter text to compress using Huffman coding...">SINGH AAYUSHI
MULLA ABDUL TAYYAB HAKIMI
TIWARI ABHYUDAYA
RAJESH GAHUKAR ADITYA</textarea>
                    <div class="file-input">
                        <label for="huffman-csv-input" class="file-label">üìÇ Upload CSV File</label>
                        <input type="file" id="huffman-csv-input" accept=".csv" onchange="loadCsvFile('huffman')" style="display: none;">
                        <span id="huffman-file-name" class="file-name"></span>
                    </div>
                </div>
                
                <div class="button-group">
                    <button class="encode-btn" onclick="huffmanEncode()">üîê Encode</button>
                    <button class="decode-btn" onclick="huffmanDecode()">üîì Decode</button>
                    <button class="clear-btn" onclick="clearHuffman()">üßπ Clear</button>
                </div>
                
                <div class="results">
                    <div class="result-card">
                        <h4>üìä Huffman Tree & Codes</h4>
                        <pre id="huffman-tree"></pre>
                    </div>
                    <div class="result-card">
                        <h4>üî¢ Encoded Data</h4>
                        <pre id="huffman-encoded"></pre>
                    </div>
                </div>
                
                <div class="results">
                    <div class="result-card">
                        <h4>üîì Decoded Text</h4>
                        <pre id="huffman-decoded"></pre>
                    </div>
                    <div class="result-card">
                        <h4>üìà Character Frequencies</h4>
                        <pre id="huffman-freq"></pre>
                    </div>
                </div>
                
                <div id="huffman-stats" class="stats" style="display: none;">
                    <h4>üìä Compression Statistics</h4>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-value" id="huffman-original-size">0</div>
                            <div class="stat-label">Original Size (bits)</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="huffman-compressed-size">0</div>
                            <div class="stat-label">Compressed Size (bits)</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="huffman-ratio">0%</div>
                            <div class="stat-label">Compression Ratio</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="huffman-savings">0%</div>
                            <div class="stat-label">Space Savings</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="arithmetic-tab" class="tab-content">
                <div class="input-section">
                    <h3>üìù Input Text (Student Names)</h3>
                    <textarea id="arithmetic-input" placeholder="Enter text to compress using Arithmetic coding...">SINGH AAYUSHI
MULLA ABDUL TAYYAB HAKIMI</textarea>
                    <div class="file-input">
                        <label for="arithmetic-csv-input" class="file-label">üìÇ Upload CSV File</label>
                        <input type="file" id="arithmetic-csv-input" accept=".csv" onchange="loadCsvFile('arithmetic')" style="display: none;">
                        <span id="arithmetic-file-name" class="file-name"></span>
                    </div>
                </div>
                
                <div class="button-group">
                    <button class="encode-btn" onclick="arithmeticEncode()">üîê Encode</button>
                    <button class="decode-btn" onclick="arithmeticDecode()">üîì Decode</button>
                    <button class="clear-btn" onclick="clearArithmetic()">üßπ Clear</button>
                </div>
                
                <div class="results">
                    <div class="result-card">
                        <h4>üìä Probability Model</h4>
                        <pre id="arithmetic-model"></pre>
                    </div>
                    <div class="result-card">
                        <h4>üî¢ Encoded Value</h4>
                        <pre id="arithmetic-encoded"></pre>
                    </div>
                </div>
                
                <div class="results">
                    <div class="result-card">
                        <h4>üîì Decoded Text</h4>
                        <pre id="arithmetic-decoded"></pre>
                    </div>
                    <div class="result-card">
                        <h4>üìà Encoding Steps</h4>
                        <pre id="arithmetic-steps"></pre>
                    </div>
                </div>
                
                <div id="arithmetic-stats" class="stats" style="display: none;">
                    <h4>üìä Compression Statistics</h4>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-value" id="arithmetic-original-size">0</div>
                            <div class="stat-label">Original Size (bits)</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="arithmetic-compressed-size">0</div>
                            <div class="stat-label">Compressed Size (bits)</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="arithmetic-ratio">0%</div>
                            <div class="stat-label">Compression Ratio</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="arithmetic-savings">0%</div>
                            <div class="stat-label">Space Savings</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Tab switching functionality
        function switchTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(tabName + '-tab').classList.add('active');
            
            // Add active class to selected tab
            event.target.classList.add('active');
        }

        // Huffman Coding Implementation
        class HuffmanNode {
            constructor(char, freq, left = null, right = null) {
                this.char = char;
                this.freq = freq;
                this.left = left;
                this.right = right;
            }
        }

        function buildFrequencyTable(text) {
            const freq = {};
            for (const char of text) {
                freq[char] = (freq[char] || 0) + 1;
            }
            return freq;
        }

        function buildHuffmanTree(frequencies) {
            const nodes = Object.entries(frequencies)
                .map(([char, freq]) => new HuffmanNode(char, freq));
            
            while (nodes.length > 1) {
                nodes.sort((a, b) => a.freq - b.freq);
                const left = nodes.shift();
                const right = nodes.shift();
                const merged = new HuffmanNode(null, left.freq + right.freq, left, right);
                nodes.push(merged);
            }
            
            return nodes[0];
        }

        function buildCodes(root) {
            const codes = {};
            
            function traverse(node, code = '') {
                if (node.char !== null) {
                    codes[node.char] = code || '0'; // Handle single character case
                } else {
                    if (node.left) traverse(node.left, code + '0');
                    if (node.right) traverse(node.right, code + '1');
                }
            }
            
            if (root) traverse(root);
            return codes;
        }

        function huffmanEncode() {
            const input = document.getElementById('huffman-input').value;
            if (!input.trim()) {
                showError('huffman', 'Please enter some text to encode');
                return;
            }

            try {
                // Build frequency table
                const frequencies = buildFrequencyTable(input);
                
                // Build Huffman tree
                const root = buildHuffmanTree(frequencies);
                
                // Generate codes
                const codes = buildCodes(root);
                
                // Encode text
                let encoded = '';
                for (const char of input) {
                    encoded += codes[char];
                }
                
                // Display results
                displayHuffmanResults(frequencies, codes, encoded, input, root);
                
            } catch (error) {
                showError('huffman', 'Error during encoding: ' + error.message);
            }
        }

        function displayHuffmanResults(frequencies, codes, encoded, original, root) {
            // Display frequency table
            let freqText = 'Character Frequencies:\n';
            Object.entries(frequencies)
                .sort((a, b) => b[1] - a[1])
                .forEach(([char, freq]) => {
                    const displayChar = char === '\n' ? '\\n' : char === ' ' ? 'SPACE' : char;
                    freqText += `${displayChar}: ${freq}\n`;
                });
            document.getElementById('huffman-freq').textContent = freqText;

            // Display Huffman codes
            let codesText = 'Huffman Codes:\n';
            Object.entries(codes)
                .sort((a, b) => a[1].length - b[1].length)
                .forEach(([char, code]) => {
                    const displayChar = char === '\n' ? '\\n' : char === ' ' ? 'SPACE' : char;
                    codesText += `${displayChar}: ${code}\n`;
                });
            document.getElementById('huffman-tree').textContent = codesText;

            // Display encoded data
            document.getElementById('huffman-encoded').textContent = 
                `Encoded bits (${encoded.length} bits):\n${encoded}\n\nHex representation:\n${binaryToHex(encoded)}`;

            // Calculate and display statistics
            const originalSize = original.length * 8; // ASCII = 8 bits per character
            const compressedSize = encoded.length;
            const ratio = ((compressedSize / originalSize) * 100).toFixed(2);
            const savings = (100 - ratio).toFixed(2);

            document.getElementById('huffman-original-size').textContent = originalSize;
            document.getElementById('huffman-compressed-size').textContent = compressedSize;
            document.getElementById('huffman-ratio').textContent = ratio + '%';
            document.getElementById('huffman-savings').textContent = savings + '%';
            document.getElementById('huffman-stats').style.display = 'block';

            // Store for decoding
            window.huffmanCodes = codes;
            window.huffmanEncoded = encoded;
            window.huffmanRoot = root;
        }

        function huffmanDecode() {
            if (!window.huffmanEncoded || !window.huffmanRoot) {
                showError('huffman', 'Please encode some text first');
                return;
            }

            try {
                let decoded = '';
                let current = window.huffmanRoot;
                
                for (const bit of window.huffmanEncoded) {
                    if (current.char !== null) {
                        decoded += current.char;
                        current = window.huffmanRoot;
                    }
                    
                    current = bit === '0' ? current.left : current.right;
                }
                
                // Handle last character
                if (current && current.char !== null) {
                    decoded += current.char;
                }
                
                document.getElementById('huffman-decoded').textContent = decoded;
                
            } catch (error) {
                showError('huffman', 'Error during decoding: ' + error.message);
            }
        }

        // Arithmetic Coding Implementation (Simplified)
        function buildProbabilityModel(text) {
            const frequencies = buildFrequencyTable(text);
            const total = text.length;
            const model = {};
            let cumulative = 0;
            
            for (const [char, freq] of Object.entries(frequencies)) {
                const prob = freq / total;
                model[char] = {
                    probability: prob,
                    cumulativeLow: cumulative,
                    cumulativeHigh: cumulative + prob
                };
                cumulative += prob;
            }
            
            return model;
        }

        function arithmeticEncode() {
            const input = document.getElementById('arithmetic-input').value;
            if (!input.trim()) {
                showError('arithmetic', 'Please enter some text to encode');
                return;
            }

            try {
                const model = buildProbabilityModel(input);
                let low = 0.0;
                let high = 1.0;
                const steps = [];
                
                for (let i = 0; i < input.length; i++) {
                    const char = input[i];
                    const range = high - low;
                    const charModel = model[char];
                    
                    const newHigh = low + range * charModel.cumulativeHigh;
                    const newLow = low + range * charModel.cumulativeLow;
                    
                    steps.push({
                        char: char,
                        step: i + 1,
                        range: range.toFixed(10),
                        low: newLow.toFixed(10),
                        high: newHigh.toFixed(10)
                    });
                    
                    low = newLow;
                    high = newHigh;
                }
                
                const encoded = (low + high) / 2;
                
                displayArithmeticResults(model, encoded, steps, input);
                
            } catch (error) {
                showError('arithmetic', 'Error during encoding: ' + error.message);
            }
        }

        function displayArithmeticResults(model, encoded, steps, original) {
            // Display probability model
            let modelText = 'Probability Model:\n';
            Object.entries(model).forEach(([char, data]) => {
                const displayChar = char === '\n' ? '\\n' : char === ' ' ? 'SPACE' : char;
                modelText += `${displayChar}: P=${data.probability.toFixed(4)}, Range=[${data.cumulativeLow.toFixed(4)}, ${data.cumulativeHigh.toFixed(4)})\n`;
            });
            document.getElementById('arithmetic-model').textContent = modelText;

            // Display encoded value
            document.getElementById('arithmetic-encoded').textContent = 
                `Encoded value: ${encoded.toFixed(10)}\nBinary representation: ${floatToBinary(encoded, 32)}\nRequired precision: ${Math.ceil(Math.log2(original.length)) + 2} bits`;

            // Display encoding steps
            let stepsText = 'Encoding Steps:\n';
            steps.forEach(step => {
                const displayChar = step.char === '\n' ? '\\n' : step.char === ' ' ? 'SPACE' : step.char;
                stepsText += `Step ${step.step} ('${displayChar}'): [${step.low}, ${step.high})\n`;
            });
            document.getElementById('arithmetic-steps').textContent = stepsText;

            // Calculate statistics
            const originalSize = original.length * 8;
            const compressedSize = Math.ceil(Math.log2(original.length)) + 10; // Approximation
            const ratio = ((compressedSize / originalSize) * 100).toFixed(2);
            const savings = (100 - ratio).toFixed(2);

            document.getElementById('arithmetic-original-size').textContent = originalSize;
            document.getElementById('arithmetic-compressed-size').textContent = compressedSize;
            document.getElementById('arithmetic-ratio').textContent = ratio + '%';
            document.getElementById('arithmetic-savings').textContent = savings + '%';
            document.getElementById('arithmetic-stats').style.display = 'block';

            // Store for decoding
            window.arithmeticModel = model;
            window.arithmeticEncoded = encoded;
            window.arithmeticLength = original.length;
        }

        function arithmeticDecode() {
            if (!window.arithmeticModel || !window.arithmeticEncoded) {
                showError('arithmetic', 'Please encode some text first');
                return;
            }

            try {
                let decoded = '';
                let value = window.arithmeticEncoded;
                
                for (let i = 0; i < window.arithmeticLength; i++) {
                    for (const [char, data] of Object.entries(window.arithmeticModel)) {
                        if (value >= data.cumulativeLow && value < data.cumulativeHigh) {
                            decoded += char;
                            value = (value - data.cumulativeLow) / data.probability;
                            break;
                        }
                    }
                }
                
                document.getElementById('arithmetic-decoded').textContent = decoded;
                
            } catch (error) {
                showError('arithmetic', 'Error during decoding: ' + error.message);
            }
        }

        // Utility functions
        function binaryToHex(binary) {
            // Pad to multiple of 4
            const padded = binary.padEnd(Math.ceil(binary.length / 4) * 4, '0');
            let hex = '';
            for (let i = 0; i < padded.length; i += 4) {
                const nibble = padded.substr(i, 4);
                hex += parseInt(nibble, 2).toString(16).toUpperCase();
            }
            return hex || '0';
        }

        function floatToBinary(num, precision = 16) {
            if (num >= 1 || num < 0) return 'Invalid range for fractional binary';
            
            let binary = '0.';
            let fraction = num;
            
            for (let i = 0; i < precision; i++) {
                fraction *= 2;
                if (fraction >= 1) {
                    binary += '1';
                    fraction -= 1;
                } else {
                    binary += '0';
                }
            }
            
            return binary;
        }

        function clearHuffman() {
            document.getElementById('huffman-input').value = '';
            document.getElementById('huffman-tree').textContent = '';
            document.getElementById('huffman-encoded').textContent = '';
            document.getElementById('huffman-decoded').textContent = '';
            document.getElementById('huffman-freq').textContent = '';
            document.getElementById('huffman-stats').style.display = 'none';
            document.getElementById('huffman-file-name').textContent = '';
            document.getElementById('huffman-csv-input').value = '';
            
            // Clear stored data
            window.huffmanCodes = null;
            window.huffmanEncoded = null;
            window.huffmanRoot = null;
        }

        function clearArithmetic() {
            document.getElementById('arithmetic-input').value = '';
            document.getElementById('arithmetic-model').textContent = '';
            document.getElementById('arithmetic-encoded').textContent = '';
            document.getElementById('arithmetic-decoded').textContent = '';
            document.getElementById('arithmetic-steps').textContent = '';
            document.getElementById('arithmetic-stats').style.display = 'none';
            document.getElementById('arithmetic-file-name').textContent = '';
            document.getElementById('arithmetic-csv-input').value = '';
            
            // Clear stored data
            window.arithmeticModel = null;
            window.arithmeticEncoded = null;
            window.arithmeticLength = null;
        }

        function showError(type, message) {
            const container = document.getElementById(type + '-tab');
            let errorDiv = container.querySelector('.error');
            
            if (!errorDiv) {
                errorDiv = document.createElement('div');
                errorDiv.className = 'error';
                container.appendChild(errorDiv);
            }
            
            errorDiv.textContent = message;
            
            // Remove error after 5 seconds
            setTimeout(() => {
                if (errorDiv.parentNode) {
                    errorDiv.parentNode.removeChild(errorDiv);
                }
            }, 5000);
        }

        // CSV File Handling
        function loadCsvFile(type) {
            const fileInput = document.getElementById(type + '-csv-input');
            const fileNameDisplay = document.getElementById(type + '-file-name');
            const textArea = document.getElementById(type + '-input');
            
            if (!fileInput.files || fileInput.files.length === 0) {
                return;
            }
            
            const file = fileInput.files[0];
            fileNameDisplay.textContent = file.name;
            
            const reader = new FileReader();
            
            reader.onload = function(e) {
                try {
                    const content = e.target.result;
                    
                    // Process CSV content - extract names
                    const names = processCSV(content);
                    
                    if (names && names.length > 0) {
                        textArea.value = names.join('\n');
                        showSuccess(type, `Successfully loaded ${names.length} names from CSV file`);
                    } else {
                        showError(type, 'No valid data found in CSV file');
                    }
                } catch (error) {
                    showError(type, 'Error processing CSV file: ' + error.message);
                }
            };
            
            reader.onerror = function() {
                showError(type, 'Error reading file');
            };
            
            reader.readAsText(file);
        }
        
        function processCSV(content) {
            // Split by newlines
            const lines = content.split(/\r\n|\n|\r/);
            const names = [];
            
            // Simple CSV processing - assumes either one name per row or structured data
            for (let i = 0; i < lines.length; i++) {
                const line = lines[i].trim();
                
                if (!line) continue; // Skip empty lines
                
                // Split by comma
                const columns = line.split(',');
                
                if (columns.length === 1) {
                    // Single column - assume it's a name
                    if (columns[0].trim()) names.push(columns[0].trim());
                } else {
                    // Multiple columns - try to construct a name
                    // This is a simplistic approach - may need adjustment based on CSV structure
                    const nameParts = columns.filter(col => col.trim());
                    if (nameParts.length > 0) {
                        names.push(nameParts.join(' ').trim());
                    }
                }
            }
            
            return names;
        }
        
        function showSuccess(type, message) {
            const container = document.getElementById(type + '-tab');
            let successDiv = container.querySelector('.success');
            
            if (!successDiv) {
                successDiv = document.createElement('div');
                successDiv.className = 'success';
                successDiv.style.background = '#d4edda';
                successDiv.style.color = '#155724';
                successDiv.style.padding = '15px';
                successDiv.style.borderRadius = '8px';
                successDiv.style.borderLeft = '4px solid #28a745';
                successDiv.style.margin = '15px 0';
                container.appendChild(successDiv);
            }
            
            successDiv.textContent = message;
            
            // Remove success message after 5 seconds
            setTimeout(() => {
                if (successDiv.parentNode) {
                    successDiv.parentNode.removeChild(successDiv);
                }
            }, 5000);
        }

        // Load student names on page load
        window.onload = function() {
            const studentNames = `SINGH AAYUSHI
MULLA ABDUL TAYYAB HAKIMI
TIWARI ABHYUDAYA
RAJESH GAHUKAR ADITYA
SMIT MUKESHBHAI AJANI
DEEP AJAY
JAIN AJAY
GORAI AKSHOY
JATAV AMAN
PATEL AMAN
UMESH NAIK AMEYA
LALWANI AMISHA
SINGH AMIT
KUMAR ANIMESH
PAUL ANINDA`;
            
            document.getElementById('huffman-input').value = studentNames;
            document.getElementById('arithmetic-input').value = studentNames;
        };
    </script>
</body>
</html>
